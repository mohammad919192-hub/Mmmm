<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>عکس نامزدی | خوش آمدید</title>

  <style>
    :root{
      --accent:#ff6b6b;
      --muted: rgba(255,255,255,0.12);
      --glass: rgba(255,255,255,0.08);
      --text:#ffffff;
      --shadow: 0 8px 30px rgba(0,0,0,0.45);
      --blur: 12px;
    }

    html,body{
      height:100%;
      margin:0;
      font-family: "Vazirmatn", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:#000;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .hero{
      position:relative;
      min-height:100vh;
      display:grid;
      place-items:center;
      overflow:hidden;
    }

    .bg{
      position:absolute;
      inset:0;
      background-position:center;
      background-size:cover;
      filter: blur(10px) saturate(1.05) brightness(0.55);
      transform-origin:center;
      animation:kenburns 18s ease-in-out infinite alternate;
      z-index:0;
    }

    @keyframes kenburns{
      from{transform:scale(1) translateY(0);}
      to{transform:scale(1.06) translateY(-2%);}
    }

    .card{
      position:relative;
      z-index:2;
      width:min(980px,94%);
      max-width:980px;
      border-radius:18px;
      box-shadow:var(--shadow);
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      backdrop-filter: blur(var(--blur));
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:24px;
      padding:28px;
      align-items:center;
    }

    @media (max-width:880px){
      .card{grid-template-columns:1fr; padding:18px;}
      .controls{order:2;}
    }

    .photo-wrap{
      position:relative;
      min-height:360px;
      border-radius:12px;
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03);
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.05));
    }

    .photo{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transition: transform 14s linear;
    }

    .photo.zooming{
      transform: scale(1.06);
    }

    .controls{
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .couple-names{
      font-size:20px;
      font-weight:700;
      letter-spacing:0.2px;
      display:flex;
      gap:8px;
      align-items:center;
    }

    .date{
      font-size:14px;
      color:rgba(255,255,255,0.75);
      margin-top:4px;
    }

    .message{
      margin-top:8px;
      color:rgba(255,255,255,0.9);
      font-size:15px;
      line-height:1.45;
    }

    .player{
      margin-top:8px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .controls-row{
      display:flex;
      gap:12px;
      align-items:center;
    }

    .btn{
      -webkit-tap-highlight-color: transparent;
      border:0;
      background:linear-gradient(90deg,var(--accent), #ff8e72);
      color:#fff;
      padding:10px 14px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(255,107,107,0.18);
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
    }

    .icon-btn{
      background:var(--glass);
      padding:8px;
      border-radius:10px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      color:var(--text);
      border:1px solid rgba(255,255,255,0.04);
      cursor:pointer;
    }

    .progress{
      height:10px;
      background:rgba(255,255,255,0.06);
      border-radius:999px;
      overflow:hidden;
      position:relative;
      cursor:pointer;
    }

    .progress > .bar{
      position:absolute;
      left:0; top:0; bottom:0;
      width:0%;
      background: linear-gradient(90deg, rgba(255,255,255,0.18), rgba(255,255,255,0.32));
      border-radius:999px;
      transition: width 0.08s linear;
    }

    .time-row{
      display:flex;
      justify-content:space-between;
      font-size:13px;
      color:rgba(255,255,255,0.75);
    }

    .volume{
      display:flex;
      gap:8px;
      align-items:center;
    }

    .small{
      font-size:13px;
      color:rgba(255,255,255,0.8);
    }

    .overlay-top{
      position:absolute;
      z-index:3;
      left:18px;
      top:18px;
      display:flex;
      gap:8px;
      align-items:center;
      padding:8px 12px;
      background:linear-gradient(90deg, rgba(0,0,0,0.25), rgba(0,0,0,0.12));
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 4px 18px rgba(0,0,0,0.35);
    }

    .hearts{
      color:var(--accent);
      font-size:18px;
      transform:translateY(1px);
    }

    .credit{
      text-align:center;
      margin-top:18px;
      font-size:13px;
      color:rgba(255,255,255,0.65);
    }
  </style>
</head>
<body>

  <main class="hero" id="hero">
    <!-- background (نام فایل عکس شما اینجاست) -->
    <div class="bg" id="bg" style="background-image: url('IMG_20211116_204829_684.jpg');"></div>

    <div class="card" role="region" aria-label="صفحه نامزدی">
      <div class="photo-wrap" id="photoWrap">
        <img src="IMG_20211116_204829_684.jpg" alt="عکس نامزدی" class="photo" id="photo">
      </div>

      <aside class="controls" aria-label="کنترل پخش">
        <div>
          <div class="couple-names">
            <span style="font-size:18px">علی</span>
            <span style="font-size:18px">و</span>
            <span style="font-size:18px">ندا</span>
            <span class="hearts">♥</span>
          </div>
          <div class="date">۵ آذر ۱۴۰۴</div>
          <div class="message">
            با عشق از شما دعوت می‌کنیم این لحظه را با ما شریک شوید. موسیقی را پخش کنید تا خاطره آغاز شود.
          </div>
        </div>

        <div class="player" id="player">
          <div class="controls-row">
            <button class="btn" id="playBtn" aria-label="پخش">
              <svg id="playIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M5 3v18l15-9L5 3z" fill="currentColor"/>
              </svg>
              <span id="playLabel">پخش موزیک</span>
            </button>

            <button class="icon-btn" id="muteBtn" title="بی‌صدا">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M5 9v6h4l5 4V5L9 9H5z" fill="currentColor"/>
              </svg>
            </button>

            <div style="flex:1"></div>

            <div class="small">کیفیت بالا</div>
          </div>

          <div class="progress" id="progress">
            <div class="bar" id="progressBar"></div>
          </div>
          <div class="time-row">
            <div id="currentTime">00:00</div>
            <div id="duration">00:00</div>
          </div>

          <div class="controls-row">
            <div class="volume">
              <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8" aria-label="ولوم">
            </div>

            <div style="flex:1"></div>

            <button class="icon-btn" id="downloadPhoto" title="دانلود عکس">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><path d="M5 13l7 7 7-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
          </div>

        </div>

        <div class="credit">طراحی شده با ❤ — بارگذاری روی GitHub Pages</div>
      </aside>

      <div class="overlay-top" aria-hidden="true">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 21s-6-4.35-9-7.72C-0.66 7.22 5 3 12 8c7-5 12.66-0.78 9 5.28C18 16.65 12 21 12 21z" fill="currentColor" /></svg>
        <div style="font-size:13px">علی و ندا</div>
      </div>

    </div>

    <!-- Audio element -->
    <!-- نام فایل آهنگ شما -->
    <audio id="audio" preload="auto" src="Arown-Sadness-Disco.mp3" crossorigin="anonymous"></audio>
  </main>

  <script>
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const playIcon = document.getElementById('playIcon');
    const playLabel = document.getElementById('playLabel');
    const progress = document.getElementById('progress');
    const progressBar = document.getElementById('progressBar');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    const volumeSlider = document.getElementById('volume');
    const muteBtn = document.getElementById('muteBtn');
    const photo = document.getElementById('photo');
    const bg = document.getElementById('bg');
    const photoWrap = document.getElementById('photoWrap');
    const downloadPhoto = document.getElementById('downloadPhoto');

    audio.volume = parseFloat(volumeSlider.value);

    function fmtTime(t){
      if (!isFinite(t)) return '00:00';
      const m = Math.floor(t/60).toString().padStart(2,'0');
      const s = Math.floor(t%60).toString().padStart(2,'0');
      return m+':'+s;
    }

    audio.addEventListener('loadedmetadata', ()=>{
      durationEl.textContent = fmtTime(audio.duration);
    });

    audio.addEventListener('timeupdate', ()=>{
      const pct = (audio.currentTime / audio.duration) * 100 || 0;
      progressBar.style.width = pct + '%';
      currentTimeEl.textContent = fmtTime(audio.currentTime);
    });

    async function togglePlay(){
      if (audio.paused){
        try{
          await audio.play();
          onPlay();
        }catch(e){
          playLabel.textContent = 'پخش (لمس کنید)';
        }
      }else{
        audio.pause();
        onPause();
      }
    }

    function onPlay(){
      playLabel.textContent = 'در حال پخش';
      playIcon.innerHTML = '<path d="M6 4h4v16H6zM14 4h4v16h-4z" fill="currentColor"/>';
      photo.classList.add('zooming');
    }

    function onPause(){
      playLabel.textContent = 'پخش موزیک';
      playIcon.innerHTML = '<path d="M5 3v18l15-9L5 3z" fill="currentColor"/>';
      photo.classList.remove('zooming');
    }

    playBtn.addEventListener('click', togglePlay);

    muteBtn.addEventListener('click', ()=>{
      audio.muted = !audio.muted;
      muteBtn.style.opacity = audio.muted ? 0.6 : 1;
    });

    volumeSlider.addEventListener('input', (e)=>{
      audio.volume = parseFloat(e.target.value);
      if (audio.volume === 0) audio.muted = true;
      else audio.muted = false;
    });

    progress.addEventListener('click', (e)=>{
      const rect = progress.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const pct = x / rect.width;
      audio.currentTime = pct * audio.duration;
    });

    photoWrap.addEventListener('click', togglePlay);

    audio.addEventListener('ended', ()=>{
      audio.currentTime = 0;
      audio.pause();
      onPause();
    });

    downloadPhoto.addEventListener('click', ()=>{
      const src = photo.getAttribute('src');
      window.open(src, '_blank');
    });

    let triedAutoplay = false;
    function tryAutoplay(){
      if (triedAutoplay) return;
      triedAutoplay = true;
      audio.play().then(()=>onPlay()).catch(()=>{});
      window.removeEventListener('pointerdown', tryAutoplay);
      window.removeEventListener('keydown', tryAutoplay);
    }
    window.addEventListener('pointerdown', tryAutoplay);
    window.addEventListener('keydown', tryAutoplay);

    window.addEventListener('keydown', (e)=>{
      if (e.code === 'Space' && document.activeElement === document.body){
        e.preventDefault();
        togglePlay();
      }
    });

    function syncBackground(){
      const src = photo.getAttribute('src');
      bg.style.backgroundImage = `url('${src}')`;
    }
    syncBackground();
  </script>

</body>
</html>
